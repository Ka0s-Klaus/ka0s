job-core	Set up job	﻿2025-05-30T08:24:30.5490010Z Current runner version: '2.324.0'
job-core	Set up job	2025-05-30T08:24:30.5497033Z Runner name: 'ka0s-ka0s-1'
job-core	Set up job	2025-05-30T08:24:30.5498091Z Machine name: '81c4cec2d52e'
job-core	Set up job	2025-05-30T08:24:30.5500913Z ##[group]GITHUB_TOKEN Permissions
job-core	Set up job	2025-05-30T08:24:30.5503181Z Contents: read
job-core	Set up job	2025-05-30T08:24:30.5503804Z Metadata: read
job-core	Set up job	2025-05-30T08:24:30.5504358Z Packages: read
job-core	Set up job	2025-05-30T08:24:30.5505091Z ##[endgroup]
job-core	Set up job	2025-05-30T08:24:30.5507074Z Secret source: Actions
job-core	Set up job	2025-05-30T08:24:30.5507817Z Prepare workflow directory
job-core	Set up job	2025-05-30T08:24:30.6122820Z Prepare all required actions
job-core	Set up job	2025-05-30T08:24:30.6162089Z Getting action download info
job-core	Set up job	2025-05-30T08:24:31.1677130Z Download action repository 'actions/checkout@v3' (SHA:f43a0e5ff2bd294095638e18286ca9a3d1956744)
job-core	Set up job	2025-05-30T08:24:32.1363116Z Complete job name: job-core
job-core	Checkout repository	﻿2025-05-30T08:24:32.1865410Z ##[group]Run actions/checkout@v3
job-core	Checkout repository	2025-05-30T08:24:32.1866367Z with:
job-core	Checkout repository	2025-05-30T08:24:32.1866826Z   fetch-depth: 0
job-core	Checkout repository	2025-05-30T08:24:32.1867529Z   token: ***
job-core	Checkout repository	2025-05-30T08:24:32.1867995Z   repository: Ka0s-Klaus/ka0s
job-core	Checkout repository	2025-05-30T08:24:32.1868578Z   ssh-strict: true
job-core	Checkout repository	2025-05-30T08:24:32.1869067Z   persist-credentials: true
job-core	Checkout repository	2025-05-30T08:24:32.1869576Z   clean: true
job-core	Checkout repository	2025-05-30T08:24:32.1870041Z   sparse-checkout-cone-mode: true
job-core	Checkout repository	2025-05-30T08:24:32.1870593Z   fetch-tags: false
job-core	Checkout repository	2025-05-30T08:24:32.1871043Z   lfs: false
job-core	Checkout repository	2025-05-30T08:24:32.1871474Z   submodules: false
job-core	Checkout repository	2025-05-30T08:24:32.1871950Z   set-safe-directory: true
job-core	Checkout repository	2025-05-30T08:24:32.1872684Z env:
job-core	Checkout repository	2025-05-30T08:24:32.1873174Z   KAOS_CODE: 15342538588
job-core	Checkout repository	2025-05-30T08:24:32.1873698Z   KAOS_EVENT_NAME: workflow_dispatch
job-core	Checkout repository	2025-05-30T08:24:32.1874260Z   KAOS_ACTION: 
job-core	Checkout repository	2025-05-30T08:24:32.1874881Z   KAOS_REF: refs/heads/main
job-core	Checkout repository	2025-05-30T08:24:32.1875445Z   KAOS_MODULE: [Ka0S] Deploy Web Structure
job-core	Checkout repository	2025-05-30T08:24:32.1876061Z   KAOS_JSON_RESUME: core/outputs/webs/
job-core	Checkout repository	2025-05-30T08:24:32.1876706Z   KAOS_WEB_STRUCTURE: core/results/webs/
job-core	Checkout repository	2025-05-30T08:24:32.1877292Z   KAOS_ACTOR: jh0ny2k2
job-core	Checkout repository	2025-05-30T08:24:32.1877843Z   KAOS_FINOPS_STRUCTURE: core/results/webs/finops/
job-core	Checkout repository	2025-05-30T08:24:32.1878608Z   KAOS_FINOPS_JSON_WEB: core/config/finops/config/webs.json
job-core	Checkout repository	2025-05-30T08:24:32.1879353Z   KAOS_FINOPS_JSON_DATA: core/config/finops/data
job-core	Checkout repository	2025-05-30T08:24:32.1880058Z   KAOS_FINOPS_TEMPLATE: core/config/finops/template
job-core	Checkout repository	2025-05-30T08:24:32.1880711Z   KAOS_FINOPS: core/config/finops
job-core	Checkout repository	2025-05-30T08:24:32.1881410Z   KAOS_FINOPS_RESULTS_SECTION: core/results/webs/finops/section
job-core	Checkout repository	2025-05-30T08:24:32.1882154Z   KAOS_DATA_BQ: core/results/bq/data
job-core	Checkout repository	2025-05-30T08:24:32.1882723Z ##[endgroup]
job-core	Checkout repository	2025-05-30T08:24:32.2802075Z Syncing repository: Ka0s-Klaus/ka0s
job-core	Checkout repository	2025-05-30T08:24:32.2804163Z ##[group]Getting Git version info
job-core	Checkout repository	2025-05-30T08:24:32.2805453Z Working directory is '/actions-runner/_work/ka0s/ka0s'
job-core	Checkout repository	2025-05-30T08:24:32.2806561Z [command]/usr/bin/git version
job-core	Checkout repository	2025-05-30T08:24:32.2807131Z git version 2.43.0
job-core	Checkout repository	2025-05-30T08:24:32.2818247Z ##[endgroup]
job-core	Checkout repository	2025-05-30T08:24:32.2831319Z Copying '/home/kaos/.gitconfig' to '/actions-runner/_work/_temp/c7cc54f4-a75e-455c-94a1-822464eb5577/.gitconfig'
job-core	Checkout repository	2025-05-30T08:24:32.2842545Z Temporarily overriding HOME='/actions-runner/_work/_temp/c7cc54f4-a75e-455c-94a1-822464eb5577' before making global git config changes
job-core	Checkout repository	2025-05-30T08:24:32.2844307Z Adding repository directory to the temporary git global config as a safe directory
job-core	Checkout repository	2025-05-30T08:24:32.2846715Z [command]/usr/bin/git config --global --add safe.directory /actions-runner/_work/ka0s/ka0s
job-core	Checkout repository	2025-05-30T08:24:32.2884527Z [command]/usr/bin/git config --local --get remote.origin.url
job-core	Checkout repository	2025-05-30T08:24:32.2904921Z https://github.com/Ka0s-Klaus/ka0s
job-core	Checkout repository	2025-05-30T08:24:32.2925005Z ##[group]Removing previously created refs, to avoid conflicts
job-core	Checkout repository	2025-05-30T08:24:32.2927679Z [command]/usr/bin/git rev-parse --symbolic-full-name --verify --quiet HEAD
job-core	Checkout repository	2025-05-30T08:24:32.2951268Z refs/heads/main
job-core	Checkout repository	2025-05-30T08:24:32.2960300Z [command]/usr/bin/git checkout --detach
job-core	Checkout repository	2025-05-30T08:24:32.3117661Z HEAD is now at b9c59e40 [Ka0S] Actualizando archivos de estructura web
job-core	Checkout repository	2025-05-30T08:24:32.3157853Z [command]/usr/bin/git branch --delete --force main
job-core	Checkout repository	2025-05-30T08:24:32.3190465Z Deleted branch main (was b9c59e40).
job-core	Checkout repository	2025-05-30T08:24:32.3260963Z ##[endgroup]
job-core	Checkout repository	2025-05-30T08:24:32.3261691Z [command]/usr/bin/git submodule status
job-core	Checkout repository	2025-05-30T08:24:32.3513621Z ##[group]Cleaning the repository
job-core	Checkout repository	2025-05-30T08:24:32.3514853Z [command]/usr/bin/git clean -ffdx
job-core	Checkout repository	2025-05-30T08:24:32.3584310Z Removing core/results/webs/dashboard/15342524843-dashboard-ftp-deploy-sync-state.json
job-core	Checkout repository	2025-05-30T08:24:32.3592108Z [command]/usr/bin/git reset --hard HEAD
job-core	Checkout repository	2025-05-30T08:24:32.3886726Z HEAD is now at b9c59e40 [Ka0S] Actualizando archivos de estructura web
job-core	Checkout repository	2025-05-30T08:24:32.3894573Z ##[endgroup]
job-core	Checkout repository	2025-05-30T08:24:32.3895843Z ##[group]Disabling automatic garbage collection
job-core	Checkout repository	2025-05-30T08:24:32.3897860Z [command]/usr/bin/git config --local gc.auto 0
job-core	Checkout repository	2025-05-30T08:24:32.3927098Z ##[endgroup]
job-core	Checkout repository	2025-05-30T08:24:32.3928546Z ##[group]Setting up auth
job-core	Checkout repository	2025-05-30T08:24:32.3932700Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
job-core	Checkout repository	2025-05-30T08:24:32.3963348Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
job-core	Checkout repository	2025-05-30T08:24:32.4224246Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
job-core	Checkout repository	2025-05-30T08:24:32.4251361Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
job-core	Checkout repository	2025-05-30T08:24:32.4509761Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
job-core	Checkout repository	2025-05-30T08:24:32.4551820Z ##[endgroup]
job-core	Checkout repository	2025-05-30T08:24:32.4552972Z ##[group]Fetching the repository
job-core	Checkout repository	2025-05-30T08:24:32.4559834Z [command]/usr/bin/git -c protocol.version=2 fetch --prune --progress --no-recurse-submodules origin +refs/heads/*:refs/remotes/origin/* +refs/tags/*:refs/tags/*
job-core	Checkout repository	2025-05-30T08:24:33.3072623Z remote: Enumerating objects: 11, done.        
job-core	Checkout repository	2025-05-30T08:24:33.3074389Z remote: Counting objects:   9% (1/11)        
job-core	Checkout repository	2025-05-30T08:24:33.3075979Z remote: Counting objects:  18% (2/11)        
job-core	Checkout repository	2025-05-30T08:24:33.3077229Z remote: Counting objects:  27% (3/11)        
job-core	Checkout repository	2025-05-30T08:24:33.3078722Z remote: Counting objects:  36% (4/11)        
job-core	Checkout repository	2025-05-30T08:24:33.3079910Z remote: Counting objects:  45% (5/11)        
job-core	Checkout repository	2025-05-30T08:24:33.3081097Z remote: Counting objects:  54% (6/11)        
job-core	Checkout repository	2025-05-30T08:24:33.3082315Z remote: Counting objects:  63% (7/11)        
job-core	Checkout repository	2025-05-30T08:24:33.3083496Z remote: Counting objects:  72% (8/11)        
job-core	Checkout repository	2025-05-30T08:24:33.3084729Z remote: Counting objects:  81% (9/11)        
job-core	Checkout repository	2025-05-30T08:24:33.3086197Z remote: Counting objects:  90% (10/11)        
job-core	Checkout repository	2025-05-30T08:24:33.3087410Z remote: Counting objects: 100% (11/11)        
job-core	Checkout repository	2025-05-30T08:24:33.3089061Z remote: Counting objects: 100% (11/11), done.        
job-core	Checkout repository	2025-05-30T08:24:33.3090652Z remote: Compressing objects:  33% (1/3)        
job-core	Checkout repository	2025-05-30T08:24:33.3091974Z remote: Compressing objects:  66% (2/3)        
job-core	Checkout repository	2025-05-30T08:24:33.3093304Z remote: Compressing objects: 100% (3/3)        
job-core	Checkout repository	2025-05-30T08:24:33.3096895Z remote: Compressing objects: 100% (3/3), done.        
job-core	Checkout repository	2025-05-30T08:24:33.3465782Z remote: Total 7 (delta 4), reused 7 (delta 4), pack-reused 0 (from 0)        
job-core	Checkout repository	2025-05-30T08:24:33.3656643Z From https://github.com/Ka0s-Klaus/ka0s
job-core	Checkout repository	2025-05-30T08:24:33.3658181Z    b9c59e40..d667dd13  main       -> origin/main
job-core	Checkout repository	2025-05-30T08:24:33.3702013Z [command]/usr/bin/git branch --list --remote origin/main
job-core	Checkout repository	2025-05-30T08:24:33.3730475Z   origin/main
job-core	Checkout repository	2025-05-30T08:24:33.3738504Z [command]/usr/bin/git rev-parse refs/remotes/origin/main
job-core	Checkout repository	2025-05-30T08:24:33.3760979Z d667dd1351ba6b4edb5659b0ece976c263ba459f
job-core	Checkout repository	2025-05-30T08:24:33.3765455Z ##[endgroup]
job-core	Checkout repository	2025-05-30T08:24:33.3767280Z ##[group]Determining the checkout info
job-core	Checkout repository	2025-05-30T08:24:33.3769415Z ##[endgroup]
job-core	Checkout repository	2025-05-30T08:24:33.3771185Z ##[group]Checking out the ref
job-core	Checkout repository	2025-05-30T08:24:33.3773085Z [command]/usr/bin/git checkout --progress --force -B main refs/remotes/origin/main
job-core	Checkout repository	2025-05-30T08:24:33.4060036Z Previous HEAD position was b9c59e40 [Ka0S] Actualizando archivos de estructura web
job-core	Checkout repository	2025-05-30T08:24:33.4069530Z Switched to a new branch 'main'
job-core	Checkout repository	2025-05-30T08:24:33.4071191Z branch 'main' set up to track 'origin/main'.
job-core	Checkout repository	2025-05-30T08:24:33.4080684Z ##[endgroup]
job-core	Checkout repository	2025-05-30T08:24:33.4118932Z [command]/usr/bin/git log -1 --format='%H'
job-core	Checkout repository	2025-05-30T08:24:33.4146960Z 'd667dd1351ba6b4edb5659b0ece976c263ba459f'
job-core	Crear estructura FinOps HTML	﻿2025-05-30T08:24:33.4369572Z ##[group]Run STRUCTURE_FILE="core/config/finops/config/webs.json"
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4372322Z [36;1mSTRUCTURE_FILE="core/config/finops/config/webs.json"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4374118Z [36;1mTEMPLATE_FILE="core/config/finops/template/finops.html"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4389219Z [36;1mNAVBAR_BASE="core/config/finops/template/navbar.html"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4391002Z [36;1mmkdir -p "core/results/webs/finops/section"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4392268Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4393277Z [36;1mecho "Construyendo items del navbar global..."[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4395342Z [36;1mNAVBAR_ITEMS="<ul id=\"navbar-sections\" class=\"flex flex-col gap-1\">"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4397223Z [36;1mNAVBAR_ITEMS+="<div class=\"sections-container p-4\">"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4398605Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4399476Z [36;1mwhile IFS=$'\t' read -r title icon; do[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4400758Z [36;1m  anchor=$(echo "$title" | jq -sRr @uri)[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4401955Z [36;1m  NAVBAR_ITEMS+="<li>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4404615Z [36;1m  NAVBAR_ITEMS+="<a href=\"${title}.html\" class=\"nav-link flex items-center p-3 text-gray-700 hover:bg-blue-50 rounded-lg transition-all duration-200 group\">"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4409142Z [36;1m  NAVBAR_ITEMS+="<div class=\"flex items-center justify-center w-12\"><i class=\"${icon} text-orange-300 group-hover:text-orange-500 text-xl\"></i></div>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4412495Z [36;1m  NAVBAR_ITEMS+="<span class=\"sidebar-text flex-1 font-medium capitalize\">${title}</span>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4414368Z [36;1m  NAVBAR_ITEMS+="</a></li>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4416267Z [36;1mdone < <(jq -r '.sections[] | [.title, .icon] | @tsv' "$STRUCTURE_FILE")[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4417739Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4418519Z [36;1mNAVBAR_ITEMS+="</div></ul>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4419545Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4420323Z [36;1mif [ ! -s "$NAVBAR_BASE" ]; then[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4421934Z [36;1m  echo "❌ ERROR: El archivo navbar base '$NAVBAR_BASE' no existe o está vacío."[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4423540Z [36;1m  exit 1[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4424298Z [36;1mfi[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4425246Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4426150Z [36;1mNAVBAR_HTML=$(<"$NAVBAR_BASE")[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4427192Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4428166Z [36;1m# Comprobar existencia de placeholders (corregido)[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4430538Z [36;1mif [[ "$NAVBAR_HTML" != *"SECTION_TITLE_PLACEHOLDER"* ]] || [[ "$NAVBAR_HTML" != *"<!-- NAVBAR_SECTIONS_PLACEHOLDER -->"* ]]; then[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4433316Z [36;1m  echo "⚠️ WARNING: El archivo '$NAVBAR_BASE' no contiene los placeholders esperados."[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4435649Z [36;1m  cat "$NAVBAR_BASE"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4436561Z [36;1m  exit 1[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4437292Z [36;1mfi[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4437967Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4439056Z [36;1mNAVBAR_HTML="${NAVBAR_HTML//SECTION_TITLE_PLACEHOLDER/FinOps}"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4441058Z [36;1mNAVBAR_HTML="${NAVBAR_HTML//<!-- NAVBAR_SECTIONS_PLACEHOLDER -->/$NAVBAR_ITEMS}"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4442666Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4443478Z [36;1mecho "$NAVBAR_HTML" > full_navbar.html[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4444573Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4445560Z [36;1mecho "Procesando secciones..."[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4447143Z [36;1mjq -c '.sections[]' "$STRUCTURE_FILE" | while read -r section; do[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4448787Z [36;1m  section_title=$(echo "$section" | jq -r '.title')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4450860Z [36;1m  section_description=$(echo "$section" | jq -r '.description // empty')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4452818Z [36;1m  section_data_template=$(echo "$section" | jq -r '.datatemplate')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4454472Z [36;1m  section_icon=$(echo "$section" | jq -r '.icon')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4456003Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4457262Z [36;1m  SECTION_CONFIG="core/config/finops/config/$section_data_template"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4459262Z [36;1m  SECTION_HTML="core/results/webs/finops/section/${section_title}.html"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4461020Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4461787Z [36;1m  if [ -f "$SECTION_CONFIG" ]; then[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4463004Z [36;1m    echo "✅ Generando sección: $section_title"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4464150Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4465191Z [36;1m    cp "$TEMPLATE_FILE" "$SECTION_HTML"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4466398Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4467574Z [36;1m    sed -i "s/SECTION_TITLE_PLACEHOLDER/$section_title/g" "$SECTION_HTML"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4469712Z [36;1m    sed -i "s/SECTION_DESCRIPTION_PLACEHOLDER/$section_description/g" "$SECTION_HTML"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4471953Z [36;1m    sed -i -e '/<div id="navbar-container"><\/div>/{r full_navbar.html' -e 'd}' "$SECTION_HTML"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4473535Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4474226Z [36;1m    CONTENT=""[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4475060Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4475861Z [36;1m    # Procesar templates de la sección[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4477036Z [36;1m    while read -r template; do[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4478216Z [36;1m      tmpl_type=$(echo "$template" | jq -r '.type')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4479338Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4480058Z [36;1m      case "$tmpl_type" in[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4481033Z [36;1m        "cost-chart")[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4482225Z [36;1m          title=$(echo "$template" | jq -r '.title // "Sin título"')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4483717Z [36;1m          tipo=$(echo "$template" | jq -r '.tipo // "bar"')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4485669Z [36;1m          # Normalizar tipo a minúsculas y solo tipo de Chart.js válido[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4487248Z [36;1m          tipo_lc=$(echo "$tipo" | tr '[:upper:]' '[:lower:]')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4488440Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4489153Z [36;1m          case "$tipo_lc" in[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4490270Z [36;1m            bar|line|pie|doughnut|radar|polararea)[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4491429Z [36;1m              tipo="$tipo_lc"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4492421Z [36;1m              ;;[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4493346Z [36;1m            barchart|stackedbarchart)[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4494406Z [36;1m              tipo="bar"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4495424Z [36;1m              ;;[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4496254Z [36;1m            *)[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4497465Z [36;1m              echo "⚠️ Tipo de gráfico inválido '$tipo', usando 'bar' por defecto"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4498853Z [36;1m              tipo="bar"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4499794Z [36;1m              ;;[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4500612Z [36;1m          esac[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4501658Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4502612Z [36;1m          dataSource=$(echo "$template" | jq -r '.dataSource')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4504381Z [36;1m          realCostField=$(echo "$template" | jq -r '.realCostField // "final_cost"')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4506567Z [36;1m          estimatedCostField=$(echo "$template" | jq -r '.estimatedCostField // "total_cost"')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4508428Z [36;1m          groupBy=$(echo "$template" | jq -r '.groupBy')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4509782Z [36;1m          orderBy=$(echo "$template" | jq -r '.orderBy')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4511323Z [36;1m          orderDirection=$(echo "$template" | jq -r '.orderDirection')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4512979Z [36;1m          limit=$(echo "$template" | jq -r '.limit')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4514444Z [36;1m          currentYear=$(echo "$template" | jq -r '.currentYear // false')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4515982Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4517031Z [36;1m          DATA_JSON_PATH="core/results/bq/data/$(basename "$dataSource")"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4518357Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4519116Z [36;1m          if [ ! -f "$DATA_JSON_PATH" ]; then[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4520447Z [36;1m            echo "❌ No existe data source $DATA_JSON_PATH para $title"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4521705Z [36;1m            continue[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4522541Z [36;1m          fi[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4523275Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4524292Z [36;1m          # Filtrar por año actual si está configurado[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4525570Z [36;1m          if [ "$currentYear" = "true" ]; then[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4526690Z [36;1m            CURRENT_YEAR=$(date +%Y)[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4528484Z [36;1m            FILTERED_DATA=$(jq --arg year "$CURRENT_YEAR" '[ .[] | select(.month | startswith($year)) ]' "$DATA_JSON_PATH")[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4530211Z [36;1m          else[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4531165Z [36;1m            FILTERED_DATA=$(cat "$DATA_JSON_PATH")[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4532228Z [36;1m          fi[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4532964Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4533920Z [36;1m          # Construir filtros jq para ordenar, limitar y agrupar[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4536741Z [36;1m          SORTED=$(echo "$FILTERED_DATA" | jq -c --arg orderBy "$orderBy" --arg orderDir "$orderDirection" --argjson limit "$limit" '[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4539164Z [36;1m            sort_by(.[$orderBy]) | if $orderDir=="desc" then reverse else . end | .[0:$limit][0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4540655Z [36;1m          ')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4541385Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4542296Z [36;1m          # Obtener etiquetas (labels) agrupadas por groupBy[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4544565Z [36;1m          labels=$(echo "$SORTED" | jq -r --arg groupBy "$groupBy" 'map(.[ $groupBy ]) | unique | @json')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4546877Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4547562Z [36;1m          # Calcular totales[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4549187Z [36;1m          totalReal=$(echo "$SORTED" | jq -r --arg field "$realCostField" 'map(.[$field] | tonumber) | add')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4551677Z [36;1m          totalEstimated=$(echo "$SORTED" | jq -r --arg field "$estimatedCostField" 'map(.[$field] | tonumber) | add')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4553727Z [36;1m          netCost=$(echo "$totalReal - $totalEstimated" | bc)[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4555197Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4556025Z [36;1m          # Formatear valores para la visualización[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4557155Z [36;1m          format_value() {[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4558087Z [36;1m            local value=$1[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4559144Z [36;1m            if (( $(echo "$value >= 1000000" | bc -l) )); then[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4560436Z [36;1m              printf "€%.2fM" $(echo "$value/1000000" | bc -l)[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4561740Z [36;1m            elif (( $(echo "$value >= 1000" | bc -l) )); then[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4563025Z [36;1m              printf "€%.1fk" $(echo "$value/1000" | bc -l)[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4564125Z [36;1m            else[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4565008Z [36;1m              printf "€%.2f" $value[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4565967Z [36;1m            fi[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4566723Z [36;1m          }[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4567436Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4568187Z [36;1m          # Calcular comparación y estilo[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4569332Z [36;1m          if [ "$totalEstimated" != "0" ]; then[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4633223Z [36;1m            diff=$(echo "$totalReal - $totalEstimated" | bc)[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4635352Z [36;1m            percent=$(echo "scale=1; ($diff / $totalEstimated) * 100" | bc)[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4636930Z [36;1m            if (( $(echo "$diff >= 0" | bc -l) )); then[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4638508Z [36;1m              comparison_text="↑ ${percent}% sobre estimado"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4640179Z [36;1m              comparison_class="text-base text-red-500"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4642056Z [36;1m            else[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4643108Z [36;1m              percent=${percent#-}[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4644382Z [36;1m              comparison_text="↓ ${percent}% bajo estimado"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4645984Z [36;1m              comparison_class="text-base text-green-500"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4647163Z [36;1m            fi[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4647963Z [36;1m          else[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4648904Z [36;1m            comparison_text="Sin estimación"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4650363Z [36;1m            comparison_class="text-base text-gray-500"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4651515Z [36;1m          fi[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4652265Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4653337Z [36;1m          # Obtener datos reales y estimados ordenados y limitados[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4655731Z [36;1m          realCosts=$(echo "$SORTED" | jq -r --arg field "$realCostField" 'map(.[ $field ]) | @json')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4658174Z [36;1m          estimatedCosts=$(echo "$SORTED" | jq -r --arg field "$estimatedCostField" 'map(.[ $field ]) | @json')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4660021Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4661284Z [36;1m          safe_title=$(echo "$title" | tr '[:upper:]' '[:lower:]' | tr ' ' '_' | tr -cd '[:alnum:]_')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4662984Z [36;1m          chart_id="chart_${safe_title:-untitled}"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4664129Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4665272Z [36;1m          # Generar HTML con el resumen y el gráfico[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4667012Z [36;1m          CONTENT+="<section class=\"cost-chart p-4 bg-white rounded shadow mb-6\">"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4668894Z [36;1m          CONTENT+="<div class=\"flex flex-col items-center w-full\">"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4671708Z [36;1m          CONTENT+="<div class=\"flex flex-col md:flex-row items-center justify-center gap-4 md:gap-16 w-full mb-8\">"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4674096Z [36;1m          CONTENT+="<div class=\"flex flex-col items-center mb-4 md:mb-0\">"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4676043Z [36;1m          CONTENT+="<span class=\"text-base text-gray-500 mb-1\">Costo</span>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4678067Z [36;1m          CONTENT+="<span class=\"font-bold text-2xl\">\$(format_value $totalReal)</span>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4679711Z [36;1m          CONTENT+="</div>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4681387Z [36;1m          CONTENT+="<span class=\"hidden md:block text-gray-400 text-3xl font-light mx-2\">−</span>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4683517Z [36;1m          CONTENT+="<div class=\"flex flex-col items-center mb-4 md:mb-0\">"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4685721Z [36;1m          CONTENT+="<span class=\"text-base text-gray-500 mb-1\">Créditos usados</span>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4687869Z [36;1m          CONTENT+="<span class=\"font-bold text-2xl\">\$(format_value $totalEstimated)</span>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4689538Z [36;1m          CONTENT+="</div>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4691158Z [36;1m          CONTENT+="<span class=\"hidden md:block text-gray-400 text-3xl font-light mx-2\">=</span>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4693244Z [36;1m          CONTENT+="<div class=\"flex flex-col items-center mb-4 md:mb-0\">"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4695419Z [36;1m          CONTENT+="<span class=\"text-base text-gray-500 mb-1\">Costo total</span>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4697387Z [36;1m          CONTENT+="<span class=\"font-bold text-2xl\">\$(format_value $netCost)</span>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4699128Z [36;1m          CONTENT+="</div>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4701801Z [36;1m          CONTENT+="<div class=\"flex flex-col items-center md:border-l-2 md:border-gray-200 md:pl-8 md:ml-8 w-full md:w-auto\">"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4704857Z [36;1m          CONTENT+="<span class=\"text-base text-gray-500 mb-1\">Costo total previsto</span>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4707073Z [36;1m          CONTENT+="<span class=\"font-bold text-2xl\">\$(format_value $totalReal)</span>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4709242Z [36;1m          CONTENT+="<span class=\"$comparison_class\">$comparison_text</span>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4711977Z [36;1m          CONTENT+="</div></div></div>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4713380Z [36;1m          CONTENT+="<h3 class=\"text-xl font-semibold mb-2\">$title</h3>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4715192Z [36;1m          CONTENT+="<canvas id=\"$chart_id\" height=\"60\"></canvas>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4716640Z [36;1m          CONTENT+="<script>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4718395Z [36;1m          CONTENT+="(function(){"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4720214Z [36;1m          CONTENT+="  let ctx = document.getElementById('$chart_id').getContext('2d');"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4722195Z [36;1m          CONTENT+="  new Chart(ctx, {"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4723498Z [36;1m          CONTENT+="    type: '$tipo',"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4724614Z [36;1m          CONTENT+="    data: {"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4725775Z [36;1m          CONTENT+="      labels: $labels,"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4726925Z [36;1m          CONTENT+="      datasets: ["[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4728490Z [36;1m          if [ "$estimatedCosts" != "[]" ]; then[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4731588Z [36;1m            CONTENT+="{label:'Coste Estimado', data:$estimatedCosts, backgroundColor:'rgba(255, 209, 141, 0.8)', borderColor:'rgba(234, 67, 53, 1)', borderWidth:0, borderRadius:4, order:2}"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4734272Z [36;1m            if [ "$realCosts" != "[]" ]; then[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4735420Z [36;1m              CONTENT+=","[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4736376Z [36;1m            fi[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4737205Z [36;1m          fi[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4738392Z [36;1m          if [ "$realCosts" != "[]" ]; then[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4740899Z [36;1m            CONTENT+="{label:'Coste Real', data:$realCosts, backgroundColor:'rgba(66, 133, 244, 0.8)', borderColor:'rgba(66, 133, 244, 1)', borderWidth:0, borderRadius:4, order:1}"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4743307Z [36;1m          fi[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4744136Z [36;1m          CONTENT+="      ]"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4745300Z [36;1m          CONTENT+="    },"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4746330Z [36;1m          CONTENT+="    options: {"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4747433Z [36;1m          CONTENT+="      responsive: true,"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4748669Z [36;1m          CONTENT+="      maintainAspectRatio: false,"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4749873Z [36;1m          CONTENT+="      scales: {"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4751070Z [36;1m          CONTENT+="        x: { grid: { display: false } },"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4752280Z [36;1m          CONTENT+="        y: {"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4753387Z [36;1m          CONTENT+="          beginAtZero: true,"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4755085Z [36;1m          CONTENT+="          grid: { color: 'rgba(0, 0, 0, 0.1)' }"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4756462Z [36;1m          CONTENT+="        }"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4757418Z [36;1m          CONTENT+="      },"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4758590Z [36;1m          CONTENT+="      plugins: { legend: { display: true } }"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4759789Z [36;1m          CONTENT+="    }"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4760715Z [36;1m          CONTENT+="  });"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4761635Z [36;1m          CONTENT+="})();"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4762614Z [36;1m          CONTENT+="</script></section>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4763612Z [36;1m          ;;[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4764356Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4765388Z [36;1m        "table")[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4766534Z [36;1m          title=$(echo "$template" | jq -r '.title')[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4768232Z [36;1m          CONTENT+="<section class=\"table-section p-4 bg-white rounded shadow mb-6\">"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4770104Z [36;1m          CONTENT+="<h3 class=\"text-xl font-semibold mb-2\">$title</h3>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4771789Z [36;1m          CONTENT+="<table class=\"min-w-full border border-gray-300\">"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4774029Z [36;1m          CONTENT+="<thead><tr><th class=\"border px-4 py-2\">Columna 1</th><th class=\"border px-4 py-2\">Columna 2</th></tr></thead>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4775973Z [36;1m          CONTENT+="<tbody>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4777878Z [36;1m          CONTENT+="<tr><td class=\"border px-4 py-2\">Dato 1</td><td class=\"border px-4 py-2\">Dato 2</td></tr>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4780183Z [36;1m          CONTENT+="<tr><td class=\"border px-4 py-2\">Dato 3</td><td class=\"border px-4 py-2\">Dato 4</td></tr>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4781962Z [36;1m          CONTENT+="</tbody></table></section>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4783053Z [36;1m          ;;[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4783877Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4784794Z [36;1m        *)[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4786054Z [36;1m          CONTENT+="<p>Tipo de plantilla '$tmpl_type' no soportado.</p>"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4787350Z [36;1m          ;;[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4788282Z [36;1m      esac[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4789350Z [36;1m    done < <(jq -c '.templates[]' "$SECTION_CONFIG")[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4790460Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4791525Z [36;1m    sed -i "/<!-- Plantillas -->/r /dev/stdin" "$SECTION_HTML" <<< "$CONTENT"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4792865Z [36;1m[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4793543Z [36;1m  else[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4794601Z [36;1m    echo "⚠️ No se encontró configuración para '$section_title'"[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4796378Z [36;1m  fi[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4797125Z [36;1mdone[0m
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4812224Z shell: /usr/bin/bash -e {0}
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4813173Z env:
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4813886Z   KAOS_CODE: 15342538588
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4814835Z   KAOS_EVENT_NAME: workflow_dispatch
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4815862Z   KAOS_ACTION: 
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4816634Z   KAOS_REF: refs/heads/main
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4817571Z   KAOS_MODULE: [Ka0S] Deploy Web Structure
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4818639Z   KAOS_JSON_RESUME: core/outputs/webs/
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4819695Z   KAOS_WEB_STRUCTURE: core/results/webs/
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4820724Z   KAOS_ACTOR: jh0ny2k2
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4821682Z   KAOS_FINOPS_STRUCTURE: core/results/webs/finops/
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4823033Z   KAOS_FINOPS_JSON_WEB: core/config/finops/config/webs.json
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4824393Z   KAOS_FINOPS_JSON_DATA: core/config/finops/data
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4825692Z   KAOS_FINOPS_TEMPLATE: core/config/finops/template
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4826989Z   KAOS_FINOPS: core/config/finops
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4828455Z   KAOS_FINOPS_RESULTS_SECTION: core/results/webs/finops/section
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4830137Z   KAOS_DATA_BQ: core/results/bq/data
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4831099Z ##[endgroup]
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.4916756Z Construyendo items del navbar global...
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.5413925Z Procesando secciones...
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.5577740Z ✅ Generando sección: inicio
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.6209570Z /actions-runner/_work/_temp/a3e968ba-7e34-4bc7-aa42-6c4cbad1542e.sh: line 120: bc: command not found
job-core	Crear estructura FinOps HTML	2025-05-30T08:24:33.6230433Z ##[error]Process completed with exit code 127.
job-core	Post Checkout repository	﻿2025-05-30T08:24:33.6390770Z Post job cleanup.
job-core	Post Checkout repository	2025-05-30T08:24:33.7151131Z [command]/usr/bin/git version
job-core	Post Checkout repository	2025-05-30T08:24:33.7191235Z git version 2.43.0
job-core	Post Checkout repository	2025-05-30T08:24:33.7233520Z Copying '/home/kaos/.gitconfig' to '/actions-runner/_work/_temp/775de0df-8a51-4c60-b114-d256c8ededbd/.gitconfig'
job-core	Post Checkout repository	2025-05-30T08:24:33.7254595Z Temporarily overriding HOME='/actions-runner/_work/_temp/775de0df-8a51-4c60-b114-d256c8ededbd' before making global git config changes
job-core	Post Checkout repository	2025-05-30T08:24:33.7257826Z Adding repository directory to the temporary git global config as a safe directory
job-core	Post Checkout repository	2025-05-30T08:24:33.7259785Z [command]/usr/bin/git config --global --add safe.directory /actions-runner/_work/ka0s/ka0s
job-core	Post Checkout repository	2025-05-30T08:24:33.7286801Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
job-core	Post Checkout repository	2025-05-30T08:24:33.7318865Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
job-core	Post Checkout repository	2025-05-30T08:24:33.7584009Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
job-core	Post Checkout repository	2025-05-30T08:24:33.7607885Z http.https://github.com/.extraheader
job-core	Post Checkout repository	2025-05-30T08:24:33.7619353Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
job-core	Post Checkout repository	2025-05-30T08:24:33.7652498Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
job-core	Complete job	﻿2025-05-30T08:24:33.8050331Z Cleaning up orphan processes
handle_failure	Set up job	﻿2025-05-30T08:24:39.3621192Z Current runner version: '2.324.0'
handle_failure	Set up job	2025-05-30T08:24:39.3628314Z Runner name: 'ka0s-ka0s-2'
handle_failure	Set up job	2025-05-30T08:24:39.3629355Z Machine name: 'fcda5b4a84db'
handle_failure	Set up job	2025-05-30T08:24:39.3631986Z ##[group]GITHUB_TOKEN Permissions
handle_failure	Set up job	2025-05-30T08:24:39.3634184Z Contents: read
handle_failure	Set up job	2025-05-30T08:24:39.3635208Z Metadata: read
handle_failure	Set up job	2025-05-30T08:24:39.3635885Z Packages: read
handle_failure	Set up job	2025-05-30T08:24:39.3636459Z ##[endgroup]
handle_failure	Set up job	2025-05-30T08:24:39.3638621Z Secret source: Actions
handle_failure	Set up job	2025-05-30T08:24:39.3639379Z Prepare workflow directory
handle_failure	Set up job	2025-05-30T08:24:39.4252893Z Prepare all required actions
handle_failure	Set up job	2025-05-30T08:24:39.4291944Z Getting action download info
handle_failure	Set up job	2025-05-30T08:24:39.9769605Z Download action repository 'actions/checkout@v4' (SHA:11bd71901bbe5b1630ceea73d27597364c9af683)
handle_failure	Set up job	2025-05-30T08:24:40.7981373Z Complete job name: handle_failure
handle_failure	Checkout code	﻿2025-05-30T08:24:40.8450523Z ##[group]Run actions/checkout@v4
handle_failure	Checkout code	2025-05-30T08:24:40.8451347Z with:
handle_failure	Checkout code	2025-05-30T08:24:40.8451706Z   fetch-depth: 0
handle_failure	Checkout code	2025-05-30T08:24:40.8452296Z   token: ***
handle_failure	Checkout code	2025-05-30T08:24:40.8452679Z   repository: Ka0s-Klaus/ka0s
handle_failure	Checkout code	2025-05-30T08:24:40.8453157Z   ssh-strict: true
handle_failure	Checkout code	2025-05-30T08:24:40.8453527Z   ssh-user: git
handle_failure	Checkout code	2025-05-30T08:24:40.8453902Z   persist-credentials: true
handle_failure	Checkout code	2025-05-30T08:24:40.8454321Z   clean: true
handle_failure	Checkout code	2025-05-30T08:24:40.8454895Z   sparse-checkout-cone-mode: true
handle_failure	Checkout code	2025-05-30T08:24:40.8455371Z   fetch-tags: false
handle_failure	Checkout code	2025-05-30T08:24:40.8455871Z   show-progress: true
handle_failure	Checkout code	2025-05-30T08:24:40.8456246Z   lfs: false
handle_failure	Checkout code	2025-05-30T08:24:40.8456592Z   submodules: false
handle_failure	Checkout code	2025-05-30T08:24:40.8456968Z   set-safe-directory: true
handle_failure	Checkout code	2025-05-30T08:24:40.8457609Z env:
handle_failure	Checkout code	2025-05-30T08:24:40.8457958Z   KAOS_CODE: 15342538588
handle_failure	Checkout code	2025-05-30T08:24:40.8458376Z   KAOS_EVENT_NAME: workflow_dispatch
handle_failure	Checkout code	2025-05-30T08:24:40.8458831Z   KAOS_ACTION: 
handle_failure	Checkout code	2025-05-30T08:24:40.8459191Z   KAOS_REF: refs/heads/main
handle_failure	Checkout code	2025-05-30T08:24:40.8459639Z   KAOS_MODULE: [Ka0S] Deploy Web Structure
handle_failure	Checkout code	2025-05-30T08:24:40.8460177Z   KAOS_JSON_RESUME: core/outputs/webs/
handle_failure	Checkout code	2025-05-30T08:24:40.8460673Z   KAOS_WEB_STRUCTURE: core/results/webs/
handle_failure	Checkout code	2025-05-30T08:24:40.8461149Z   KAOS_ACTOR: jh0ny2k2
handle_failure	Checkout code	2025-05-30T08:24:40.8461601Z   KAOS_FINOPS_STRUCTURE: core/results/webs/finops/
handle_failure	Checkout code	2025-05-30T08:24:40.8462227Z   KAOS_FINOPS_JSON_WEB: core/config/finops/config/webs.json
handle_failure	Checkout code	2025-05-30T08:24:40.8462841Z   KAOS_FINOPS_JSON_DATA: core/config/finops/data
handle_failure	Checkout code	2025-05-30T08:24:40.8463417Z   KAOS_FINOPS_TEMPLATE: core/config/finops/template
handle_failure	Checkout code	2025-05-30T08:24:40.8463960Z   KAOS_FINOPS: core/config/finops
handle_failure	Checkout code	2025-05-30T08:24:40.8464529Z   KAOS_FINOPS_RESULTS_SECTION: core/results/webs/finops/section
handle_failure	Checkout code	2025-05-30T08:24:40.8465301Z   KAOS_DATA_BQ: core/results/bq/data
handle_failure	Checkout code	2025-05-30T08:24:40.8465753Z ##[endgroup]
handle_failure	Checkout code	2025-05-30T08:24:40.9593612Z Syncing repository: Ka0s-Klaus/ka0s
handle_failure	Checkout code	2025-05-30T08:24:40.9595752Z ##[group]Getting Git version info
handle_failure	Checkout code	2025-05-30T08:24:40.9596427Z Working directory is '/actions-runner/_work/ka0s/ka0s'
handle_failure	Checkout code	2025-05-30T08:24:40.9597395Z [command]/usr/bin/git version
handle_failure	Checkout code	2025-05-30T08:24:40.9597999Z git version 2.43.0
handle_failure	Checkout code	2025-05-30T08:24:40.9622454Z ##[endgroup]
handle_failure	Checkout code	2025-05-30T08:24:40.9634011Z Copying '/home/kaos/.gitconfig' to '/actions-runner/_work/_temp/b46203df-c1c3-4d34-b7eb-a971f73e1c6c/.gitconfig'
handle_failure	Checkout code	2025-05-30T08:24:40.9645682Z Temporarily overriding HOME='/actions-runner/_work/_temp/b46203df-c1c3-4d34-b7eb-a971f73e1c6c' before making global git config changes
handle_failure	Checkout code	2025-05-30T08:24:40.9647730Z Adding repository directory to the temporary git global config as a safe directory
handle_failure	Checkout code	2025-05-30T08:24:40.9651828Z [command]/usr/bin/git config --global --add safe.directory /actions-runner/_work/ka0s/ka0s
handle_failure	Checkout code	2025-05-30T08:24:40.9695260Z [command]/usr/bin/git config --local --get remote.origin.url
handle_failure	Checkout code	2025-05-30T08:24:40.9717354Z https://github.com/Ka0s-Klaus/ka0s
handle_failure	Checkout code	2025-05-30T08:24:40.9737779Z ##[group]Removing previously created refs, to avoid conflicts
handle_failure	Checkout code	2025-05-30T08:24:40.9743517Z [command]/usr/bin/git rev-parse --symbolic-full-name --verify --quiet HEAD
handle_failure	Checkout code	2025-05-30T08:24:40.9767900Z refs/heads/main
handle_failure	Checkout code	2025-05-30T08:24:40.9778949Z [command]/usr/bin/git checkout --detach
handle_failure	Checkout code	2025-05-30T08:24:40.9945854Z HEAD is now at 8f6d8bcb [Ka0S] Uploading resume execution files and web/test structure to the repository...
handle_failure	Checkout code	2025-05-30T08:24:40.9992716Z [command]/usr/bin/git branch --delete --force main
handle_failure	Checkout code	2025-05-30T08:24:41.0028373Z Deleted branch main (was 8f6d8bcb).
handle_failure	Checkout code	2025-05-30T08:24:41.0102082Z ##[endgroup]
handle_failure	Checkout code	2025-05-30T08:24:41.0103408Z [command]/usr/bin/git submodule status
handle_failure	Checkout code	2025-05-30T08:24:41.0356467Z ##[group]Cleaning the repository
handle_failure	Checkout code	2025-05-30T08:24:41.0360504Z [command]/usr/bin/git clean -ffdx
handle_failure	Checkout code	2025-05-30T08:24:41.0431435Z Removing core/results/webs/finops/15342518459-test-ftp-deploy-sync-state.json
handle_failure	Checkout code	2025-05-30T08:24:41.0442374Z [command]/usr/bin/git reset --hard HEAD
handle_failure	Checkout code	2025-05-30T08:24:41.0739635Z HEAD is now at 8f6d8bcb [Ka0S] Uploading resume execution files and web/test structure to the repository...
handle_failure	Checkout code	2025-05-30T08:24:41.0746854Z ##[endgroup]
handle_failure	Checkout code	2025-05-30T08:24:41.0747829Z ##[group]Disabling automatic garbage collection
handle_failure	Checkout code	2025-05-30T08:24:41.0753621Z [command]/usr/bin/git config --local gc.auto 0
handle_failure	Checkout code	2025-05-30T08:24:41.0785590Z ##[endgroup]
handle_failure	Checkout code	2025-05-30T08:24:41.0786444Z ##[group]Setting up auth
handle_failure	Checkout code	2025-05-30T08:24:41.0793181Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
handle_failure	Checkout code	2025-05-30T08:24:41.0838879Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
handle_failure	Checkout code	2025-05-30T08:24:41.1097124Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
handle_failure	Checkout code	2025-05-30T08:24:41.1132049Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
handle_failure	Checkout code	2025-05-30T08:24:41.1390687Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
handle_failure	Checkout code	2025-05-30T08:24:41.1432870Z ##[endgroup]
handle_failure	Checkout code	2025-05-30T08:24:41.1433751Z ##[group]Fetching the repository
handle_failure	Checkout code	2025-05-30T08:24:41.1441269Z [command]/usr/bin/git -c protocol.version=2 fetch --prune --no-recurse-submodules origin +refs/heads/*:refs/remotes/origin/* +refs/tags/*:refs/tags/*
handle_failure	Checkout code	2025-05-30T08:24:41.9607462Z From https://github.com/Ka0s-Klaus/ka0s
handle_failure	Checkout code	2025-05-30T08:24:41.9608983Z    8f6d8bcb..d667dd13  main       -> origin/main
handle_failure	Checkout code	2025-05-30T08:24:41.9667733Z [command]/usr/bin/git branch --list --remote origin/main
handle_failure	Checkout code	2025-05-30T08:24:41.9701937Z   origin/main
handle_failure	Checkout code	2025-05-30T08:24:41.9713603Z [command]/usr/bin/git rev-parse refs/remotes/origin/main
handle_failure	Checkout code	2025-05-30T08:24:41.9738532Z d667dd1351ba6b4edb5659b0ece976c263ba459f
handle_failure	Checkout code	2025-05-30T08:24:41.9767737Z ##[endgroup]
handle_failure	Checkout code	2025-05-30T08:24:41.9769710Z ##[group]Determining the checkout info
handle_failure	Checkout code	2025-05-30T08:24:41.9771446Z ##[endgroup]
handle_failure	Checkout code	2025-05-30T08:24:41.9772439Z [command]/usr/bin/git sparse-checkout disable
handle_failure	Checkout code	2025-05-30T08:24:41.9839640Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
handle_failure	Checkout code	2025-05-30T08:24:41.9872908Z ##[group]Checking out the ref
handle_failure	Checkout code	2025-05-30T08:24:41.9875394Z [command]/usr/bin/git checkout --progress --force -B main refs/remotes/origin/main
handle_failure	Checkout code	2025-05-30T08:24:42.0149706Z Previous HEAD position was 8f6d8bcb [Ka0S] Uploading resume execution files and web/test structure to the repository...
handle_failure	Checkout code	2025-05-30T08:24:42.0156862Z Switched to a new branch 'main'
handle_failure	Checkout code	2025-05-30T08:24:42.0158122Z branch 'main' set up to track 'origin/main'.
handle_failure	Checkout code	2025-05-30T08:24:42.0166404Z ##[endgroup]
handle_failure	Checkout code	2025-05-30T08:24:42.0208986Z [command]/usr/bin/git log -1 --format=%H
handle_failure	Checkout code	2025-05-30T08:24:42.0239477Z d667dd1351ba6b4edb5659b0ece976c263ba459f
handle_failure	handle-failure-execution	﻿2025-05-30T08:24:42.0491571Z ##[group]Run echo "Error detected in process"
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0493146Z [36;1mecho "Error detected in process"[0m
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0494728Z [36;1m# RNNUMBER=$(echo "refs/heads/main" | grep -o '[0-9]*')[0m
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0497990Z [36;1m# gh issue comment $RNNUMBER --body "El proceso no ha finalizado correctamente 15342538588. El resultado está en el fichero core/results/event_data15342538588.log"[0m
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0501292Z [36;1m# Creamos la issue dado que ha fallado el modulo principal[0m
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0505286Z [36;1mgh issue create  --title "[Ka0S] Error detected in [Ka0S] Deploy Web Structure" --body "Error detected in [Ka0S] Deploy Web Structure. Please check the logs for 15342538588 more information of error."[0m
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0518201Z shell: /usr/bin/bash -e {0}
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0519297Z env:
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0520120Z   KAOS_CODE: 15342538588
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0521169Z   KAOS_EVENT_NAME: workflow_dispatch
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0522335Z   KAOS_ACTION: 
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0523342Z   KAOS_REF: refs/heads/main
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0524446Z   KAOS_MODULE: [Ka0S] Deploy Web Structure
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0525781Z   KAOS_JSON_RESUME: core/outputs/webs/
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0527013Z   KAOS_WEB_STRUCTURE: core/results/webs/
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0528201Z   KAOS_ACTOR: jh0ny2k2
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0529300Z   KAOS_FINOPS_STRUCTURE: core/results/webs/finops/
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0530858Z   KAOS_FINOPS_JSON_WEB: core/config/finops/config/webs.json
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0532411Z   KAOS_FINOPS_JSON_DATA: core/config/finops/data
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0533838Z   KAOS_FINOPS_TEMPLATE: core/config/finops/template
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0535264Z   KAOS_FINOPS: core/config/finops
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0536668Z   KAOS_FINOPS_RESULTS_SECTION: core/results/webs/finops/section
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0538177Z   KAOS_DATA_BQ: core/results/bq/data
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0539946Z   GH_TOKEN: ***
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0540847Z ##[endgroup]
handle_failure	handle-failure-execution	2025-05-30T08:24:42.0598630Z Error detected in process
handle_failure	handle-failure-execution	2025-05-30T08:24:42.9486150Z https://github.com/Ka0s-Klaus/ka0s/issues/1214
handle_failure	Post Checkout code	﻿2025-05-30T08:24:42.9708222Z Post job cleanup.
handle_failure	Post Checkout code	2025-05-30T08:24:43.0712959Z [command]/usr/bin/git version
handle_failure	Post Checkout code	2025-05-30T08:24:43.0751516Z git version 2.43.0
handle_failure	Post Checkout code	2025-05-30T08:24:43.0793448Z Copying '/home/kaos/.gitconfig' to '/actions-runner/_work/_temp/9f7e5a76-de2d-4866-9dbc-a6b9e97e1a8d/.gitconfig'
handle_failure	Post Checkout code	2025-05-30T08:24:43.0809664Z Temporarily overriding HOME='/actions-runner/_work/_temp/9f7e5a76-de2d-4866-9dbc-a6b9e97e1a8d' before making global git config changes
handle_failure	Post Checkout code	2025-05-30T08:24:43.0810934Z Adding repository directory to the temporary git global config as a safe directory
handle_failure	Post Checkout code	2025-05-30T08:24:43.0814114Z [command]/usr/bin/git config --global --add safe.directory /actions-runner/_work/ka0s/ka0s
handle_failure	Post Checkout code	2025-05-30T08:24:43.0853137Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
handle_failure	Post Checkout code	2025-05-30T08:24:43.0899516Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
handle_failure	Post Checkout code	2025-05-30T08:24:43.1162503Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
handle_failure	Post Checkout code	2025-05-30T08:24:43.1185742Z http.https://github.com/.extraheader
handle_failure	Post Checkout code	2025-05-30T08:24:43.1200158Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
handle_failure	Post Checkout code	2025-05-30T08:24:43.1237287Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
handle_failure	Complete job	﻿2025-05-30T08:24:43.1612820Z Cleaning up orphan processes
end-workflow	Set up job	﻿2025-05-30T08:24:48.7129344Z Current runner version: '2.324.0'
end-workflow	Set up job	2025-05-30T08:24:48.7136457Z Runner name: 'ka0s-ka0s-2'
end-workflow	Set up job	2025-05-30T08:24:48.7138351Z Machine name: 'fcda5b4a84db'
end-workflow	Set up job	2025-05-30T08:24:48.7140844Z ##[group]GITHUB_TOKEN Permissions
end-workflow	Set up job	2025-05-30T08:24:48.7143110Z Contents: read
end-workflow	Set up job	2025-05-30T08:24:48.7143694Z Metadata: read
end-workflow	Set up job	2025-05-30T08:24:48.7144300Z Packages: read
end-workflow	Set up job	2025-05-30T08:24:48.7145045Z ##[endgroup]
end-workflow	Set up job	2025-05-30T08:24:48.7147594Z Secret source: Actions
end-workflow	Set up job	2025-05-30T08:24:48.7148400Z Prepare workflow directory
end-workflow	Set up job	2025-05-30T08:24:48.7793657Z Prepare all required actions
end-workflow	Set up job	2025-05-30T08:24:48.7833336Z Getting action download info
end-workflow	Set up job	2025-05-30T08:24:49.3655157Z Download action repository 'actions/checkout@v4' (SHA:11bd71901bbe5b1630ceea73d27597364c9af683)
end-workflow	Set up job	2025-05-30T08:24:50.1217104Z Complete job name: end-workflow
end-workflow	Checkout code	﻿2025-05-30T08:24:50.1648010Z ##[group]Run actions/checkout@v4
end-workflow	Checkout code	2025-05-30T08:24:50.1648866Z with:
end-workflow	Checkout code	2025-05-30T08:24:50.1649288Z   fetch-depth: 0
end-workflow	Checkout code	2025-05-30T08:24:50.1649898Z   token: ***
end-workflow	Checkout code	2025-05-30T08:24:50.1650287Z   repository: Ka0s-Klaus/ka0s
end-workflow	Checkout code	2025-05-30T08:24:50.1650814Z   ssh-strict: true
end-workflow	Checkout code	2025-05-30T08:24:50.1651194Z   ssh-user: git
end-workflow	Checkout code	2025-05-30T08:24:50.1651577Z   persist-credentials: true
end-workflow	Checkout code	2025-05-30T08:24:50.1652000Z   clean: true
end-workflow	Checkout code	2025-05-30T08:24:50.1652380Z   sparse-checkout-cone-mode: true
end-workflow	Checkout code	2025-05-30T08:24:50.1652846Z   fetch-tags: false
end-workflow	Checkout code	2025-05-30T08:24:50.1653225Z   show-progress: true
end-workflow	Checkout code	2025-05-30T08:24:50.1653606Z   lfs: false
end-workflow	Checkout code	2025-05-30T08:24:50.1653955Z   submodules: false
end-workflow	Checkout code	2025-05-30T08:24:50.1654339Z   set-safe-directory: true
end-workflow	Checkout code	2025-05-30T08:24:50.1655333Z env:
end-workflow	Checkout code	2025-05-30T08:24:50.1655696Z   KAOS_CODE: 15342538588
end-workflow	Checkout code	2025-05-30T08:24:50.1656119Z   KAOS_EVENT_NAME: workflow_dispatch
end-workflow	Checkout code	2025-05-30T08:24:50.1656586Z   KAOS_ACTION: 
end-workflow	Checkout code	2025-05-30T08:24:50.1656952Z   KAOS_REF: refs/heads/main
end-workflow	Checkout code	2025-05-30T08:24:50.1657404Z   KAOS_MODULE: [Ka0S] Deploy Web Structure
end-workflow	Checkout code	2025-05-30T08:24:50.1657942Z   KAOS_JSON_RESUME: core/outputs/webs/
end-workflow	Checkout code	2025-05-30T08:24:50.1658443Z   KAOS_WEB_STRUCTURE: core/results/webs/
end-workflow	Checkout code	2025-05-30T08:24:50.1658928Z   KAOS_ACTOR: jh0ny2k2
end-workflow	Checkout code	2025-05-30T08:24:50.1659432Z   KAOS_FINOPS_STRUCTURE: core/results/webs/finops/
end-workflow	Checkout code	2025-05-30T08:24:50.1660070Z   KAOS_FINOPS_JSON_WEB: core/config/finops/config/webs.json
end-workflow	Checkout code	2025-05-30T08:24:50.1660695Z   KAOS_FINOPS_JSON_DATA: core/config/finops/data
end-workflow	Checkout code	2025-05-30T08:24:50.1661278Z   KAOS_FINOPS_TEMPLATE: core/config/finops/template
end-workflow	Checkout code	2025-05-30T08:24:50.1661828Z   KAOS_FINOPS: core/config/finops
end-workflow	Checkout code	2025-05-30T08:24:50.1662405Z   KAOS_FINOPS_RESULTS_SECTION: core/results/webs/finops/section
end-workflow	Checkout code	2025-05-30T08:24:50.1663020Z   KAOS_DATA_BQ: core/results/bq/data
end-workflow	Checkout code	2025-05-30T08:24:50.1663637Z   GH_TOKEN: ***
end-workflow	Checkout code	2025-05-30T08:24:50.1664139Z ##[endgroup]
end-workflow	Checkout code	2025-05-30T08:24:50.2803186Z Syncing repository: Ka0s-Klaus/ka0s
end-workflow	Checkout code	2025-05-30T08:24:50.2805388Z ##[group]Getting Git version info
end-workflow	Checkout code	2025-05-30T08:24:50.2806172Z Working directory is '/actions-runner/_work/ka0s/ka0s'
end-workflow	Checkout code	2025-05-30T08:24:50.2807105Z [command]/usr/bin/git version
end-workflow	Checkout code	2025-05-30T08:24:50.2807594Z git version 2.43.0
end-workflow	Checkout code	2025-05-30T08:24:50.2830627Z ##[endgroup]
end-workflow	Checkout code	2025-05-30T08:24:50.2841560Z Copying '/home/kaos/.gitconfig' to '/actions-runner/_work/_temp/40e70cbf-c10c-4ed1-a18f-003df8dedd01/.gitconfig'
end-workflow	Checkout code	2025-05-30T08:24:50.2856583Z Temporarily overriding HOME='/actions-runner/_work/_temp/40e70cbf-c10c-4ed1-a18f-003df8dedd01' before making global git config changes
end-workflow	Checkout code	2025-05-30T08:24:50.2858043Z Adding repository directory to the temporary git global config as a safe directory
end-workflow	Checkout code	2025-05-30T08:24:50.2863568Z [command]/usr/bin/git config --global --add safe.directory /actions-runner/_work/ka0s/ka0s
end-workflow	Checkout code	2025-05-30T08:24:50.2906607Z [command]/usr/bin/git config --local --get remote.origin.url
end-workflow	Checkout code	2025-05-30T08:24:50.2929830Z https://github.com/Ka0s-Klaus/ka0s
end-workflow	Checkout code	2025-05-30T08:24:50.2951516Z ##[group]Removing previously created refs, to avoid conflicts
end-workflow	Checkout code	2025-05-30T08:24:50.2955477Z [command]/usr/bin/git rev-parse --symbolic-full-name --verify --quiet HEAD
end-workflow	Checkout code	2025-05-30T08:24:50.2979279Z refs/heads/main
end-workflow	Checkout code	2025-05-30T08:24:50.2989541Z [command]/usr/bin/git checkout --detach
end-workflow	Checkout code	2025-05-30T08:24:50.3154898Z HEAD is now at d667dd13 [Ka0S] Inspector uploading resume execution files to the repository...
end-workflow	Checkout code	2025-05-30T08:24:50.3200537Z [command]/usr/bin/git branch --delete --force main
end-workflow	Checkout code	2025-05-30T08:24:50.3233111Z Deleted branch main (was d667dd13).
end-workflow	Checkout code	2025-05-30T08:24:50.3306909Z ##[endgroup]
end-workflow	Checkout code	2025-05-30T08:24:50.3307923Z [command]/usr/bin/git submodule status
end-workflow	Checkout code	2025-05-30T08:24:50.3561509Z ##[group]Cleaning the repository
end-workflow	Checkout code	2025-05-30T08:24:50.3565005Z [command]/usr/bin/git clean -ffdx
end-workflow	Checkout code	2025-05-30T08:24:50.3645056Z [command]/usr/bin/git reset --hard HEAD
end-workflow	Checkout code	2025-05-30T08:24:50.3937534Z HEAD is now at d667dd13 [Ka0S] Inspector uploading resume execution files to the repository...
end-workflow	Checkout code	2025-05-30T08:24:50.3943437Z ##[endgroup]
end-workflow	Checkout code	2025-05-30T08:24:50.3945102Z ##[group]Disabling automatic garbage collection
end-workflow	Checkout code	2025-05-30T08:24:50.3950389Z [command]/usr/bin/git config --local gc.auto 0
end-workflow	Checkout code	2025-05-30T08:24:50.3993127Z ##[endgroup]
end-workflow	Checkout code	2025-05-30T08:24:50.3994088Z ##[group]Setting up auth
end-workflow	Checkout code	2025-05-30T08:24:50.4063037Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
end-workflow	Checkout code	2025-05-30T08:24:50.4066399Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
end-workflow	Checkout code	2025-05-30T08:24:50.4313578Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
end-workflow	Checkout code	2025-05-30T08:24:50.4347484Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
end-workflow	Checkout code	2025-05-30T08:24:50.4604174Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
end-workflow	Checkout code	2025-05-30T08:24:50.4648252Z ##[endgroup]
end-workflow	Checkout code	2025-05-30T08:24:50.4649767Z ##[group]Fetching the repository
end-workflow	Checkout code	2025-05-30T08:24:50.4657456Z [command]/usr/bin/git -c protocol.version=2 fetch --prune --no-recurse-submodules origin +refs/heads/*:refs/remotes/origin/* +refs/tags/*:refs/tags/*
end-workflow	Checkout code	2025-05-30T08:24:51.0825092Z [command]/usr/bin/git branch --list --remote origin/main
end-workflow	Checkout code	2025-05-30T08:24:51.0858976Z   origin/main
end-workflow	Checkout code	2025-05-30T08:24:51.0867429Z [command]/usr/bin/git rev-parse refs/remotes/origin/main
end-workflow	Checkout code	2025-05-30T08:24:51.0892335Z d667dd1351ba6b4edb5659b0ece976c263ba459f
end-workflow	Checkout code	2025-05-30T08:24:51.0896020Z ##[endgroup]
end-workflow	Checkout code	2025-05-30T08:24:51.0897129Z ##[group]Determining the checkout info
end-workflow	Checkout code	2025-05-30T08:24:51.0898320Z ##[endgroup]
end-workflow	Checkout code	2025-05-30T08:24:51.0904035Z [command]/usr/bin/git sparse-checkout disable
end-workflow	Checkout code	2025-05-30T08:24:51.1004926Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
end-workflow	Checkout code	2025-05-30T08:24:51.1037730Z ##[group]Checking out the ref
end-workflow	Checkout code	2025-05-30T08:24:51.1042042Z [command]/usr/bin/git checkout --progress --force -B main refs/remotes/origin/main
end-workflow	Checkout code	2025-05-30T08:24:51.1245714Z Switched to a new branch 'main'
end-workflow	Checkout code	2025-05-30T08:24:51.1255100Z branch 'main' set up to track 'origin/main'.
end-workflow	Checkout code	2025-05-30T08:24:51.1256768Z ##[endgroup]
end-workflow	Checkout code	2025-05-30T08:24:51.1296707Z [command]/usr/bin/git log -1 --format=%H
end-workflow	Checkout code	2025-05-30T08:24:51.1328631Z d667dd1351ba6b4edb5659b0ece976c263ba459f
end-workflow	Finaliza el workflow	﻿2025-05-30T08:24:51.1552766Z ##[group]Run echo "End process"
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1553402Z [36;1mecho "End process"[0m
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1553974Z [36;1m# RNNUMBER=$(echo "refs/heads/main" | grep -o '[0-9]*')[0m
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1554722Z [36;1m# gh issue comment $RNNUMBER --body "Se finaliza Ka0s 15342538588"[0m
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1555350Z [36;1mecho "Se finaliza Ka0s 15342538588"[0m
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1556202Z [36;1mgh workflow run inspector.yml --ref 'main' -f kaos-issue-id=$RNNUMBER -f kaos-workflow-id="15342538588" -f kaos-user-start=""[0m
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1566366Z shell: /usr/bin/bash -e {0}
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1566857Z env:
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1567233Z   KAOS_CODE: 15342538588
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1567665Z   KAOS_EVENT_NAME: workflow_dispatch
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1568124Z   KAOS_ACTION: 
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1568513Z   KAOS_REF: refs/heads/main
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1568969Z   KAOS_MODULE: [Ka0S] Deploy Web Structure
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1569715Z   KAOS_JSON_RESUME: core/outputs/webs/
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1570212Z   KAOS_WEB_STRUCTURE: core/results/webs/
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1570733Z   KAOS_ACTOR: jh0ny2k2
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1571193Z   KAOS_FINOPS_STRUCTURE: core/results/webs/finops/
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1571785Z   KAOS_FINOPS_JSON_WEB: core/config/finops/config/webs.json
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1572372Z   KAOS_FINOPS_JSON_DATA: core/config/finops/data
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1572918Z   KAOS_FINOPS_TEMPLATE: core/config/finops/template
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1573462Z   KAOS_FINOPS: core/config/finops
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1574011Z   KAOS_FINOPS_RESULTS_SECTION: core/results/webs/finops/section
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1574574Z   KAOS_DATA_BQ: core/results/bq/data
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1575531Z   GH_TOKEN: ***
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1575930Z ##[endgroup]
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1627264Z End process
end-workflow	Finaliza el workflow	2025-05-30T08:24:51.1627853Z Se finaliza Ka0s 15342538588
end-workflow	Post Checkout code	﻿2025-05-30T08:24:51.8575441Z Post job cleanup.
end-workflow	Post Checkout code	2025-05-30T08:24:51.9547815Z [command]/usr/bin/git version
end-workflow	Post Checkout code	2025-05-30T08:24:51.9589283Z git version 2.43.0
end-workflow	Post Checkout code	2025-05-30T08:24:51.9630789Z Copying '/home/kaos/.gitconfig' to '/actions-runner/_work/_temp/d48185ea-62c5-4ffe-91c6-7839be542e72/.gitconfig'
end-workflow	Post Checkout code	2025-05-30T08:24:51.9643267Z Temporarily overriding HOME='/actions-runner/_work/_temp/d48185ea-62c5-4ffe-91c6-7839be542e72' before making global git config changes
end-workflow	Post Checkout code	2025-05-30T08:24:51.9644225Z Adding repository directory to the temporary git global config as a safe directory
end-workflow	Post Checkout code	2025-05-30T08:24:51.9648938Z [command]/usr/bin/git config --global --add safe.directory /actions-runner/_work/ka0s/ka0s
end-workflow	Post Checkout code	2025-05-30T08:24:51.9688372Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
end-workflow	Post Checkout code	2025-05-30T08:24:51.9737337Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
end-workflow	Post Checkout code	2025-05-30T08:24:51.9999874Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
end-workflow	Post Checkout code	2025-05-30T08:24:52.0023823Z http.https://github.com/.extraheader
end-workflow	Post Checkout code	2025-05-30T08:24:52.0036521Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
end-workflow	Post Checkout code	2025-05-30T08:24:52.0073942Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
end-workflow	Complete job	﻿2025-05-30T08:24:52.0441585Z Cleaning up orphan processes
