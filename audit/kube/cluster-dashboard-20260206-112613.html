<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ka0s Cluster Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-color: #0d1117;
      --card-bg: #161b22;
      --border-color: #30363d;
      --text-primary: #c9d1d9;
      --text-secondary: #8b949e;
      --accent-color: #58a6ff;
      --success-color: #238636;
      --danger-color: #da3633;
      --warning-color: #d29922;
    }
    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-primary);
      margin: 0;
      padding: 0;
      display: flex;
      height: 100vh;
      overflow: hidden;
    }
    /* Sidebar Navigation */
    .sidebar {
      width: 250px;
      background-color: var(--card-bg);
      border-right: 1px solid var(--border-color);
      display: flex;
      flex-direction: column;
      padding: 20px 0;
    }
    .brand {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--accent-color);
      padding: 0 20px 20px;
      border-bottom: 1px solid var(--border-color);
      margin-bottom: 10px;
    }
    .nav-item {
      padding: 12px 20px;
      color: var(--text-secondary);
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      display: block;
    }
    .nav-item:hover, .nav-item.active {
      background-color: rgba(88, 166, 255, 0.1);
      color: var(--text-primary);
      border-left: 3px solid var(--accent-color);
    }
    
    /* Main Content */
    .main-content {
      flex: 1;
      padding: 30px;
      overflow-y: auto;
    }
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }
    .timestamp {
      color: var(--text-secondary);
      font-size: 0.9rem;
    }
    
    /* Cards & Sections */
    .card {
      background-color: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: 6px;
      padding: 20px;
      margin-bottom: 24px;
    }
    .card h2 {
      margin-top: 0;
      font-size: 1.2rem;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 10px;
      margin-bottom: 15px;
      color: var(--text-primary);
    }
    
    /* Code/Pre blocks */
    pre {
      background-color: #0d1117;
      padding: 15px;
      border-radius: 6px;
      overflow-x: auto;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 0.85rem;
      color: #e6edf3;
      white-space: pre-wrap;
    }
    
    /* Status Indicators */
    .status-badge {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 600;
    }
    .status-ok { background-color: rgba(35, 134, 54, 0.2); color: #3fb950; }
    .status-err { background-color: rgba(218, 54, 51, 0.2); color: #f85149; }
    
    /* Tabs for Services */
    .tab-container { margin-top: 20px; }
    
  </style>
  <script>
    function showSection(id) {
      // Hide all sections
      document.querySelectorAll('.content-section').forEach(el => el.style.display = 'none');
      // Show target
      document.getElementById(id).style.display = 'block';
      // Update nav
      document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
      document.querySelector('[onclick="showSection(\'' + id + '\')"]').classList.add('active');
    }
  </script>
</head>
<body>

  <!-- Sidebar -->
  <div class="sidebar">
    <div class="brand">Ka0s Monitor</div>
    <a class="nav-item active" onclick="showSection('overview')">üìä Vista General</a>
    <a class="nav-item" onclick="showSection('nodes')">üñ•Ô∏è Nodos</a>
    <a class="nav-item" onclick="showSection('pods')">üöë Pods & Salud</a>
    <a class="nav-item" onclick="showSection('network')">üåê Red & Servicios</a>
    <a class="nav-item" onclick="showSection('infra')">‚öôÔ∏è Infraestructura</a>
  </div>

  <!-- Content -->
  <div class="main-content">
    <div class="header">
      <h1>Estado del Cluster</h1>
      <div class="timestamp">Actualizado: vie 06 feb 2026 11:26:15 UTC</div>
    </div>

    <!-- Overview Section -->
    <div id="overview" class="content-section">
      <div class="card">
        <h2>Resumen R√°pido</h2>
        <p>Bienvenido al panel de control de Ka0s. Usa el men√∫ lateral para navegar por los detalles t√©cnicos.</p>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px;">
          <div style="background: rgba(88, 166, 255, 0.1); padding: 15px; border-radius: 8px; text-align: center;">
            <h3 style="margin:0; color: var(--accent-color);">Nodos</h3>
            <span style="font-size: 2rem; font-weight: bold;">4</span>
          </div>
          <div style="background: rgba(218, 54, 51, 0.1); padding: 15px; border-radius: 8px; text-align: center;">
            <h3 style="margin:0; color: var(--danger-color);">Pods Fallidos</h3>
            <span style="font-size: 2rem; font-weight: bold;">11</span>
          </div>
          <div style="background: rgba(35, 134, 54, 0.1); padding: 15px; border-radius: 8px; text-align: center;">
            <h3 style="margin:0; color: var(--success-color);">Servicios Expuestos</h3>
            <span style="font-size: 2rem; font-weight: bold;">4</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Nodes Section -->
    <div id="nodes" class="content-section" style="display:none;">
      <div class="card">
        <h2>Estado de Nodos</h2>
        <pre>NAME         STATUS   ROLES           AGE   VERSION    INTERNAL-IP    EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION        CONTAINER-RUNTIME
k8-manager   Ready    control-plane   49d   v1.32.11   192.168.1.10   <none>        Ubuntu 24.04.3 LTS   6.8.1-1040-realtime   containerd://2.2.1
k8-node-20   Ready    <none>          49d   v1.32.11   192.168.1.20   <none>        Ubuntu 24.04.3 LTS   6.8.1-1040-realtime   containerd://2.2.1
k8-node-30   Ready    <none>          29d   v1.32.11   192.168.1.30   <none>        Ubuntu 24.04.3 LTS   6.8.0-94-generic      containerd://2.2.1
k8-node-40   Ready    <none>          41h   v1.32.11   192.168.1.40   <none>        Ubuntu 24.04.3 LTS   6.8.0-94-generic      containerd://2.2.1</pre>
      </div>
    </div>

    <!-- Pods Section -->
    <div id="pods" class="content-section" style="display:none;">
      <div class="card">
        <h2>Pods con Problemas (No Running/Succeeded)</h2>
        <pre>NAMESPACE   NAME                          READY   STATUS      RESTARTS   AGE   IP              NODE         NOMINATED NODE   READINESS GATES
elk         mongodb-sync-29506255-pjszg   0/1     OOMKilled   0          16m   172.16.64.180   k8-node-40   <none>           <none>
elk         mongodb-sync-29506255-x2p99   0/1     OOMKilled   0          26m   172.16.64.175   k8-node-40   <none>           <none>
elk         mongodb-sync-29506255-zgr56   0/1     OOMKilled   0          31m   172.16.64.171   k8-node-40   <none>           <none>
elk         mongodb-sync-29506265-lbdgn   0/1     OOMKilled   0          21m   172.16.64.177   k8-node-40   <none>           <none>
elk         mongodb-sync-29506265-rdvxh   0/1     OOMKilled   0          15m   172.16.64.182   k8-node-40   <none>           <none>
elk         sync-corrected-5h5nl          0/1     OOMKilled   0          29m   172.16.64.173   k8-node-40   <none>           <none>
elk         sync-corrected-9gmgw          0/1     OOMKilled   0          35m   172.16.64.169   k8-node-40   <none>           <none>
elk         sync-corrected-c4pl9          0/1     OOMKilled   0          15m   172.16.64.181   k8-node-40   <none>           <none>
elk         sync-corrected-tqxd5          0/1     OOMKilled   0          25m   172.16.64.176   k8-node-40   <none>           <none>
elk         sync-corrected-xhpfs          0/1     OOMKilled   0          32m   172.16.64.168   k8-node-40   <none>           <none></pre>
      </div>
      <div class="card">
        <h2>√öltimos 50 Pods Creados (Actividad Reciente)</h2>
        <pre>zabbix                  zabbix-agent-ksx2w                           1/1     Running     6 (2d3h ago)    9d      192.168.1.30    k8-node-30   <none>           <none>
zabbix                  zabbix-agent-6fftl                           1/1     Running     2 (2d3h ago)    9d      192.168.1.10    k8-manager   <none>           <none>
zabbix                  zabbix-web-677b9f7b9c-sljl8                  1/1     Running     2 (2d3h ago)    8d      172.16.74.28    k8-manager   <none>           <none>
actions-runner-system   swarm-runners-scaleset-7d4866c5-listener     1/1     Running     0               2d3h    172.16.146.43   k8-node-30   <none>           <none>
local-path-storage      local-path-provisioner-6bc759bc5-b664j       1/1     Running     0               2d2h    172.16.146.32   k8-node-30   <none>           <none>
kubernetes-dashboard    dashboard-metrics-scraper-5bd45c9dd6-nks5r   1/1     Running     0               2d      172.16.209.45   k8-node-20   <none>           <none>
kubernetes-dashboard    kubernetes-dashboard-79cbcf9fb6-bm75t        1/1     Running     0               2d      172.16.209.14   k8-node-20   <none>           <none>
trivy-system            trivy-operator-5cbf845bf9-fbrtt              1/1     Running     0               47h     172.16.209.4    k8-node-20   <none>           <none>
trivy-system            scan-vulnerabilityreport-86b66dfd6f-t48ks    0/1     Completed   0               47h     172.16.146.61   k8-node-30   <none>           <none>
trivy-system            scan-vulnerabilityreport-756595f7cd-nghjj    0/1     Completed   0               47h     172.16.209.44   k8-node-20   <none>           <none>
trivy-system            node-collector-9b759b4d8-lh6l4               0/1     Completed   0               47h     172.16.74.35    k8-manager   <none>           <none>
trivy-system            scan-vulnerabilityreport-85f5c7c74-l8mp4     0/3     Completed   0               47h     172.16.209.56   k8-node-20   <none>           <none>
trivy-system            scan-vulnerabilityreport-9b8b97657-tq4bd     0/1     Completed   0               47h     172.16.146.48   k8-node-30   <none>           <none>
trivy-system            scan-vulnerabilityreport-75fdcff7d5-vdnt9    0/2     Completed   0               47h     172.16.146.6    k8-node-30   <none>           <none>
trivy-system            scan-vulnerabilityreport-8678cd695d-9d6pk    0/1     Completed   0               47h     172.16.209.57   k8-node-20   <none>           <none>
trivy-system            scan-vulnerabilityreport-56bff54df6-4flwj    0/1     Completed   0               47h     172.16.209.39   k8-node-20   <none>           <none>
trivy-system            scan-vulnerabilityreport-74ff4778ff-46n97    0/1     Completed   0               47h     172.16.146.52   k8-node-30   <none>           <none>
trivy-system            scan-vulnerabilityreport-74b9cf67dd-ms9rc    0/1     Completed   0               47h     172.16.209.52   k8-node-20   <none>           <none>
trivy-system            scan-vulnerabilityreport-7b46d5f745-fhzbd    0/1     Completed   0               47h     172.16.146.20   k8-node-30   <none>           <none>
kube-system             metrics-server-f947544c5-vjz97               0/1     Running     889 (27s ago)   44h     172.16.209.43   k8-node-20   <none>           <none>
zabbix                  zabbix-server-554759d44b-mf4q5               1/1     Running     0               44h     172.16.74.21    k8-manager   <none>           <none>
kube-system             kube-proxy-kblfg                             1/1     Running     1 (20h ago)     41h     192.168.1.40    k8-node-40   <none>           <none>
calico-system           csi-node-driver-q6fsx                        2/2     Running     2 (20h ago)     41h     172.16.64.149   k8-node-40   <none>           <none>
calico-system           calico-node-j558q                            1/1     Running     1 (20h ago)     41h     192.168.1.40    k8-node-40   <none>           <none>
zabbix                  zabbix-agent-qz6g2                           1/1     Running     6 (20h ago)     41h     192.168.1.40    k8-node-40   <none>           <none>
metallb-system          speaker-qlr7k                                1/1     Running     4 (5m12s ago)   41h     192.168.1.40    k8-node-40   <none>           <none>
itop                    mysql-6c885b98c4-lhd4q                       1/1     Running     0               176m    172.16.209.44   k8-node-20   <none>           <none>
itop                    itop-64676894dc-f7fr9                        1/1     Running     0               160m    172.16.209.56   k8-node-20   <none>           <none>
elk                     elasticsearch-0                              1/1     Running     0               95m     172.16.146.20   k8-node-30   <none>           <none>
elk                     kibana-6d8d8d9d96-p6mcn                      1/1     Running     0               95m     172.16.146.6    k8-node-30   <none>           <none>
elk                     sync-corrected-9gmgw                         0/1     OOMKilled   0               35m     172.16.64.169   k8-node-40   <none>           <none>
elk                     sync-corrected-xhpfs                         0/1     OOMKilled   0               32m     172.16.64.168   k8-node-40   <none>           <none>
elk                     mongodb-sync-29506255-zgr56                  0/1     OOMKilled   0               31m     172.16.64.171   k8-node-40   <none>           <none>
elk                     sync-corrected-5h5nl                         0/1     OOMKilled   0               29m     172.16.64.173   k8-node-40   <none>           <none>
elk                     mongodb-sync-29506255-x2p99                  0/1     OOMKilled   0               26m     172.16.64.175   k8-node-40   <none>           <none>
elk                     mongodb-sync-29506260-qdw4n                  0/1     Completed   0               26m     172.16.146.52   k8-node-30   <none>           <none>
elk                     sync-corrected-tqxd5                         0/1     OOMKilled   0               25m     172.16.64.176   k8-node-40   <none>           <none>
elk                     mongodb-sync-29506265-lbdgn                  0/1     OOMKilled   0               21m     172.16.64.177   k8-node-40   <none>           <none>
elk                     mongodb-sync-29506270-h2fjm                  0/1     Completed   0               16m     172.16.146.47   k8-node-30   <none>           <none>
elk                     mongodb-sync-29506255-pjszg                  0/1     OOMKilled   0               16m     172.16.64.180   k8-node-40   <none>           <none>
elk                     sync-corrected-c4pl9                         0/1     OOMKilled   0               15m     172.16.64.181   k8-node-40   <none>           <none>
elk                     mongodb-sync-29506265-rdvxh                  0/1     OOMKilled   0               15m     172.16.64.182   k8-node-40   <none>           <none>
elk                     mongodb-sync-29506275-b8r45                  0/1     Completed   0               11m     172.16.146.4    k8-node-30   <none>           <none>
elk                     sync-optimized-qqds2                         1/1     Running     0               6m25s   172.16.146.28   k8-node-30   <none>           <none>
elk                     mongodb-sync-29506280-gcnqt                  1/1     Running     0               6m15s   172.16.64.178   k8-node-40   <none>           <none>
elk                     mongodb-sync-29506265-k9rp9                  1/1     Running     0               4m36s   172.16.64.184   k8-node-40   <none>           <none>
elk                     mongodb-sync-29506255-hrsgm                  1/1     Running     0               4m36s   172.16.64.183   k8-node-40   <none>           <none>
elk                     sync-corrected-wznmk                         1/1     Running     0               3m16s   172.16.64.185   k8-node-40   <none>           <none>
elk                     mongodb-sync-29506285-t7gr2                  1/1     Running     0               75s     172.16.146.41   k8-node-30   <none>           <none>
actions-runner-system   swarm-runners-scaleset-hkss5-runner-dxf27    1/1     Running     0               52s     172.16.64.186   k8-node-40   <none>           <none></pre>
      </div>
    </div>

    <!-- Network Section -->
    <div id="network" class="content-section" style="display:none;">
      <div class="card">
        <h2>Servicios (LoadBalancer / NodePort)</h2>
        <pre>elk                    kibana                            LoadBalancer   10.98.54.194     192.168.1.240   5601:31362/TCP           95m    app=kibana
itop                   itop                              LoadBalancer   10.103.185.4     192.168.1.243   80:30455/TCP             176m   app=itop
kubernetes-dashboard   kubernetes-dashboard              LoadBalancer   10.98.228.11     192.168.1.242   443:31225/TCP            2d     k8s-app=kubernetes-dashboard
zabbix                 zabbix-web                        LoadBalancer   10.102.145.85    192.168.1.241   80:31123/TCP             23d    app=zabbix-web</pre>
      </div>
      <div class="card">
        <h2>Reglas de Ingress</h2>
        <pre>NAMESPACE              NAME                           CLASS    HOSTS               ADDRESS   PORTS     AGE
kubernetes-dashboard   kubernetes-dashboard-ingress   <none>   dashboard.ka0s.io             80, 443   47h</pre>
      </div>
    </div>

    <!-- Infra Section -->
    <div id="infra" class="content-section" style="display:none;">
      <div class="card">
        <h2>Ingress Controller</h2>
        <pre>No resources found in ingress-nginx namespace.</pre>
      </div>
      <div class="card">
        <h2>MetalLB System</h2>
        <pre>NAME                          READY   STATUS    RESTARTS        AGE   IP             NODE         NOMINATED NODE   READINESS GATES
controller-5cbffbc46b-qpvsv   1/1     Running   15 (2d3h ago)   38d   172.16.74.23   k8-manager   <none>           <none>
speaker-fzckw                 1/1     Running   8 (2d3h ago)    45d   192.168.1.20   k8-node-20   <none>           <none>
speaker-jtkrt                 1/1     Running   15 (2d3h ago)   45d   192.168.1.10   k8-manager   <none>           <none>
speaker-qlr7k                 1/1     Running   4 (5m12s ago)   41h   192.168.1.40   k8-node-40   <none>           <none>
speaker-xfb9s                 1/1     Running   3 (2d3h ago)    29d   192.168.1.30   k8-node-30   <none>           <none></pre>
      </div>
      <div class="card">
        <h2>CoreDNS System</h2>
        <pre>NAME                       READY   STATUS    RESTARTS       AGE   IP             NODE         NOMINATED NODE   READINESS GATES
coredns-668d6bf9bc-blvkl   1/1     Running   2 (2d3h ago)   49d   172.16.74.27   k8-manager   <none>           <none>
coredns-668d6bf9bc-l86hn   1/1     Running   2 (2d3h ago)   49d   172.16.74.6    k8-manager   <none>           <none></pre>
      </div>
    </div>

  </div>

</body>
</html>
