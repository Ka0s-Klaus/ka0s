{
    "apiVersion": "v1",
    "items": [
        {
            "apiVersion": "v1",
            "data": {
                "ca.crt": "-----BEGIN CERTIFICATE-----\nMIIDBTCCAe2gAwIBAgIIdVZ4OXlm3howDQYJKoZIhvcNAQELBQAwFTETMBEGA1UE\nAxMKa3ViZXJuZXRlczAeFw0yNTEyMTgxODIxNTVaFw0zNTEyMTYxODI2NTVaMBUx\nEzARBgNVBAMTCmt1YmVybmV0ZXMwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEK\nAoIBAQDRmY/1mdgGLX5JJz4mQmbSxg5C9OxhaR4Z2iQnuZjfqv/Ad186OXBadxRw\neVgeye4P1iWvmjcqY9q3pbdjN2WdE4x1p/tXFN6A4onbZypXN8pkXSAqyf0+D/QX\n5UY7mRtMHjgrOqAQ/0Lr79r6lX8bKvwHq8oiVjpwcHHb08ouq99B7TCJZ5d6EYeQ\n3ZGdbt2Vo/JM2xGfoXm1NBP26L3EnuXCDHlrQp0ERAQM68KRiyCNNDynwjz/DLtX\nofZrG+p2pWYc0C4NvXH3B8/1PjiQ6kcc6noKoBFerfobuVLJmkW+8qhdInmkvRt6\nfVDpzklrxUNMp/rIMbdxxTQ5S4g9AgMBAAGjWTBXMA4GA1UdDwEB/wQEAwICpDAP\nBgNVHRMBAf8EBTADAQH/MB0GA1UdDgQWBBQBfYhN6j9YZrHNfGRZH+zhNzZh/TAV\nBgNVHREEDjAMggprdWJlcm5ldGVzMA0GCSqGSIb3DQEBCwUAA4IBAQBgnq6yWBQd\nC6Z/LReT/E39sJG03rzXz5NRoQBZMONAfvL+jlzRkqK+T70/jGZlu9mNNZFa7fck\npjoO6QXqBHli60feBMJeUTrK5az1V8rPgKpEt34Esy6NVc8S52RzSy78HtQejh2l\nXPNLA/BuGMOP1kuaizM7axYW4luqyankgHNXiKxxoK2qsc+mtELapmtSu1a3oaqx\nV6ZO/4/EoV25KORXWMQ4IZ7sK+dPbr6Mh/GejaZG2N2lTFAWA1a9C2ZootKg8VDO\nKFvVePd227BqD5153nQ7r8u3BckJj+9tfUn/JCTlDnDdx/YFqv64vZU7FWHIW7CU\nwGjni5x+bo3m\n-----END CERTIFICATE-----\n"
            },
            "kind": "ConfigMap",
            "metadata": {
                "annotations": {
                    "kubernetes.io/description": "Contains a CA bundle that can be used to verify the kube-apiserver when using internal endpoints such as the internal service IP or kubernetes.default.svc. No other usage is guaranteed across distributions of Kubernetes clusters."
                },
                "creationTimestamp": "2026-01-13T16:22:21Z",
                "name": "kube-root-ca.crt",
                "namespace": "zabbix",
                "resourceVersion": "4353528",
                "uid": "881e7c7f-4c45-421c-bf35-5b373d309ce6"
            }
        },
        {
            "apiVersion": "v1",
            "data": {
                "github_connector.sh": "#!/bin/bash\n# Script para conectar Zabbix con GitHub\n# Uso: github_connector.sh [usuario/repo] [tipo: actions|info]\n# Ejemplo: github_connector.sh Ka0s-Klaus/ka0s actions\n\n\nREPO=\"${1:-Ka0s-Klaus/ka0s}\"\nTYPE=\"${2:-actions}\"\n\n# Intentamos usar jq para un parsing robusto\nJQ_BIN=\"/tmp/jq\"\n\n# Si no tenemos jq, intentamos descargarlo (binario estático ligero)\nif [ ! -f \"$JQ_BIN\" ]; then\n    wget -q -O \"$JQ_BIN\" https://github.com/stedolan/jq/releases/download/jq-1.6/jq-linux64\n    chmod +x \"$JQ_BIN\"\nfi\n\nif [ \"$TYPE\" = \"metrics\" ]; then\n    # MODO METRICS: Devuelve un JSON con todas las estadísticas numéricas\n    # Ideal para crear un \"Master Item\" en Zabbix y usar \"Dependent Items\" con JSONPath\n    \n    # 1. Info General del Repo\n    REPO_JSON=$(wget -q -O - \"https://api.github.com/repos/$REPO\")\n    \n    # 2. Conteo de Pull Requests Abiertos (Usando Search API para ser eficiente)\n    PR_JSON=$(wget -q -O - \"https://api.github.com/search/issues?q=repo:$REPO+type:pr+state:open\")\n    \n    # Procesar todo con JQ y generar un único JSON plano\n    if [ -x \"$JQ_BIN\" ]; then\n        echo \"$REPO_JSON\" | \"$JQ_BIN\" --argjson prs \"$PR_JSON\" '{\n            stars: .stargazers_count,\n            forks: .forks_count,\n            open_issues: .open_issues_count,\n            watchers: .subscribers_count,\n            size_kb: .size,\n            created_at: .created_at,\n            updated_at: .updated_at,\n            pushed_at: .pushed_at,\n            language: .language,\n            open_prs: $prs.total_count\n        }'\n    else\n        echo \"Error: jq required for metrics\"\n    fi\n    \nelif [ \"$TYPE\" = \"info\" ]; then\n    # Legacy info mode (mantenido por compatibilidad)\n    API_URL=\"https://api.github.com/repos/$REPO\"\n    JSON=$(wget -q -O - \"$API_URL\")\n    STARS=$(echo \"$JSON\" | grep -o '\"stargazers_count\": [0-9]*' | head -1 | awk '{print $2}')\n    FORKS=$(echo \"$JSON\" | grep -o '\"forks_count\": [0-9]*' | head -1 | awk '{print $2}')\n    echo \"Stars: $STARS | Forks: $FORKS\"\n    \nelse\n    # Información de los últimos workflows (Actions)\n    API_URL=\"https://api.github.com/repos/$REPO/actions/runs?per_page=10\"\n    JSON=$(wget -q -O - \"$API_URL\")\n    \n    if [ -x \"$JQ_BIN\" ]; then\n         # Parsing con jq (fiable y limpio)\n         # Extraemos: Nombre, ID, Estado, Rama, Autor y Evento\n         echo \"$JSON\" | \"$JQ_BIN\" -r '.workflow_runs[] | \"Workflow: \\(.name) (#\\(.run_number)) | Status: \\(.conclusion) | Branch: \\(.head_branch) | Author: \\(.actor.login) | Event: \\(.event)\"'\n    else\n         echo \"Error: jq required for actions parsing\"\n    fi\nfi\n"
            },
            "kind": "ConfigMap",
            "metadata": {
                "annotations": {
                    "kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\":\"v1\",\"data\":{\"github_connector.sh\":\"#!/bin/bash\\n# Script para conectar Zabbix con GitHub\\n# Uso: github_connector.sh [usuario/repo] [tipo: actions|info]\\n# Ejemplo: github_connector.sh Ka0s-Klaus/ka0s actions\\n\\n\\nREPO=\\\"${1:-Ka0s-Klaus/ka0s}\\\"\\nTYPE=\\\"${2:-actions}\\\"\\n\\n# Intentamos usar jq para un parsing robusto\\nJQ_BIN=\\\"/tmp/jq\\\"\\n\\n# Si no tenemos jq, intentamos descargarlo (binario estático ligero)\\nif [ ! -f \\\"$JQ_BIN\\\" ]; then\\n    wget -q -O \\\"$JQ_BIN\\\" https://github.com/stedolan/jq/releases/download/jq-1.6/jq-linux64\\n    chmod +x \\\"$JQ_BIN\\\"\\nfi\\n\\nif [ \\\"$TYPE\\\" = \\\"metrics\\\" ]; then\\n    # MODO METRICS: Devuelve un JSON con todas las estadísticas numéricas\\n    # Ideal para crear un \\\"Master Item\\\" en Zabbix y usar \\\"Dependent Items\\\" con JSONPath\\n    \\n    # 1. Info General del Repo\\n    REPO_JSON=$(wget -q -O - \\\"https://api.github.com/repos/$REPO\\\")\\n    \\n    # 2. Conteo de Pull Requests Abiertos (Usando Search API para ser eficiente)\\n    PR_JSON=$(wget -q -O - \\\"https://api.github.com/search/issues?q=repo:$REPO+type:pr+state:open\\\")\\n    \\n    # Procesar todo con JQ y generar un único JSON plano\\n    if [ -x \\\"$JQ_BIN\\\" ]; then\\n        echo \\\"$REPO_JSON\\\" | \\\"$JQ_BIN\\\" --argjson prs \\\"$PR_JSON\\\" '{\\n            stars: .stargazers_count,\\n            forks: .forks_count,\\n            open_issues: .open_issues_count,\\n            watchers: .subscribers_count,\\n            size_kb: .size,\\n            created_at: .created_at,\\n            updated_at: .updated_at,\\n            pushed_at: .pushed_at,\\n            language: .language,\\n            open_prs: $prs.total_count\\n        }'\\n    else\\n        echo \\\"Error: jq required for metrics\\\"\\n    fi\\n    \\nelif [ \\\"$TYPE\\\" = \\\"info\\\" ]; then\\n    # Legacy info mode (mantenido por compatibilidad)\\n    API_URL=\\\"https://api.github.com/repos/$REPO\\\"\\n    JSON=$(wget -q -O - \\\"$API_URL\\\")\\n    STARS=$(echo \\\"$JSON\\\" | grep -o '\\\"stargazers_count\\\": [0-9]*' | head -1 | awk '{print $2}')\\n    FORKS=$(echo \\\"$JSON\\\" | grep -o '\\\"forks_count\\\": [0-9]*' | head -1 | awk '{print $2}')\\n    echo \\\"Stars: $STARS | Forks: $FORKS\\\"\\n    \\nelse\\n    # Información de los últimos workflows (Actions)\\n    API_URL=\\\"https://api.github.com/repos/$REPO/actions/runs?per_page=10\\\"\\n    JSON=$(wget -q -O - \\\"$API_URL\\\")\\n    \\n    if [ -x \\\"$JQ_BIN\\\" ]; then\\n         # Parsing con jq (fiable y limpio)\\n         # Extraemos: Nombre, ID, Estado, Rama, Autor y Evento\\n         echo \\\"$JSON\\\" | \\\"$JQ_BIN\\\" -r '.workflow_runs[] | \\\"Workflow: \\\\(.name) (#\\\\(.run_number)) | Status: \\\\(.conclusion) | Branch: \\\\(.head_branch) | Author: \\\\(.actor.login) | Event: \\\\(.event)\\\"'\\n    else\\n         echo \\\"Error: jq required for actions parsing\\\"\\n    fi\\nfi\\n\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"zabbix-github-plugin\",\"namespace\":\"zabbix\"}}\n"
                },
                "creationTimestamp": "2026-01-19T11:27:51Z",
                "name": "zabbix-github-plugin",
                "namespace": "zabbix",
                "resourceVersion": "5671552",
                "uid": "92ad43a3-677e-44a9-b486-fef5cc7ccae2"
            }
        }
    ],
    "kind": "List",
    "metadata": {
        "resourceVersion": ""
    }
}
